---
import Layout from '../layouts/Layout.astro'
import { ChatBubbleLeftRightIcon, EnvelopeIcon } from '@heroicons/react/24/outline'
import { Carrousel } from '@/components/carrousel'
import CardLines from '@/components/CardLines.tsx'
import LinesCarrousel from '@/components/ui/lines-carrousel'
import { BrandsCarousel } from '@/components/carousels/BrandsCarousel'
import { BannersCarousel } from '@/components/carousels/BannersCarousel'

const fetchProducts = async () => {
	try {
		const response = await fetch('https://test.nexocreate.com/api/products')
		const data = await response.json()
		// console.log(data);
		return data.data
	} catch (error) {
		console.log('üöÄ ~ fetchProducts ~ error:', error)
	}
}

const data = await fetchProducts()
---

<Layout title='Inicio'>
	<div class='w-full mb-20 relative flex justify-center'>
		<!-- <Carrousel client:load /> -->
		<!-- <img src='/banner.png' alt='hero image' class='w-full aspect-[1536/400]' /> -->
		<BannersCarousel client:load />
	</div>

	<div class='w-11/12 m-auto'>
		<!-- Categorias -->
		<section class='w-full'>
			<h2 class='font-semibold text-2xl md:text-3xl mb-8 text-primary'>Productos</h2>
			<div class='flex justify-center'>
				<LinesCarrousel client:visible />
			</div>
		</section>
		<!-- Productos -->
		<!-- <section>
				<h2 class='font-semibold text-2xl md:text-3xl mb-5'>
					Nuestros Productos
				</h2>
				<div class='flex flex-col items-center'>
					<div class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 md:gap-10'>
						{
							data.map((product: any) => (
								<Card img_url={product.image_url_1} name={product.name} href={`/product/${product.id}`} />

							))
						}
					</div>
					<button class='bg-primary py-2 px-8 font-semibold text-white rounded-md text-lg mt-20'>
						Ver M√°s
					</button>
				</div>
			</section> -->

		<!-- Marcas -->

		<section class='my-10 border-y-[3px] border-secondary py-12'>
			<h2 class='font-semibold text-2xl md:text-3xl mb-8 text-primary'>
				Distribuidores Autorizados
			</h2>
			<div class='flex flex-wrap justify-around items-center gap-10'>
				<BrandsCarousel client:visible />
			</div>
		</section>

		<!-- Contacto y Ubicacion -->
		<section
			class='flex flex-col xl:flex-row gap-y-10 gap-x-20 pt-12 mb-20'
			id='contacto'
		>
			{/* Contact */}
			<div class='flex flex-col gap-y-8'>
				<h2 class='font-semibold text-2xl md:text-3xl text-primary'>Contacto</h2>
				<p class='font-semibold text-lg'>
					Comun√≠cate con nosotros a trav√©s de nuestro correo electr√≥nico o nuestro
					Whatsapp.
				</p>
				<div class='flex gap-x-5'>
					<a
						href='mailto:neumaticavalenciaventas@gmail.com?subject=Consultar%20precios%20del%20catalogo'
						class='flex gap-x-2 text-white text-sm md:text-base font-semibold py-2 px-4 bg-red-600 hover:bg-red-700 rounded-md'
					>
						<EnvelopeIcon className='w-5 h-5 text-white' />
						Enviar email
					</a>
					<a
						href='https://wa.link/x0zwki'
						class='flex gap-x-2 text-white text-sm md:text-base font-semibold py-2 px-4 bg-green-600 hover:bg-green-700 rounded-md'
					>
						<ChatBubbleLeftRightIcon className='w-5 h-5 text-white' />
						Enviar Whatsapp
					</a>
				</div>
			</div>

			{/* Location */}
			<div class='flex flex-col gap-y-8'>
				<h2 class='font-semibold text-2xl md:text-3xl text-primary'>Ubicaci√≥n</h2>
				<iframe
					src='https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d15708.271159275224!2d-67.97973169737543!3d10.17514537259976!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x1fdb52ace55ec1e1!2sNeumatica%20Valencia%2C%20C.A.!5e0!3m2!1ses-419!2sve!4v1665073843807!5m2!1ses-419!2sve'
					class='w-full h-72 sm:w-[600px] md:h-96'
					loading='lazy'
					referrer-policy='no-referrer-when-downgrade'></iframe>
			</div>
		</section>
	</div>
</Layout>
